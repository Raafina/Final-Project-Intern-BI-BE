"use strict";

const { v4: uuidv4 } = require("uuid");

module.exports = {
  up: async (queryInterface, Sequelize) => {
    const existingEmails = new Set();
    const existingPhones = new Set();

    const generateUniqueEmail = () => {
      let email;
      do {
        email = `${uuidv4().slice(0, 8)}@example.com`;
      } while (existingEmails.has(email));
      existingEmails.add(email);
      return email;
    };

    const generateUniquePhone = () => {
      let phone;
      do {
        phone = `08${Math.floor(1000000000 + Math.random() * 900000000)}`;
      } while (existingPhones.has(phone));
      existingPhones.add(phone);
      return phone;
    };

    const getRandomTipeMagang = () => {
      const jurusanList = ["Magang Mandiri", "Magang KRS"];
      return jurusanList[Math.floor(Math.random() * jurusanList.length)];
    };

    const getRandomJurusan = () => {
      const jurusanList = [
        "Ekonomi",
        "Akuntansi",
        "Manajemen",
        "IT",
        "Hukum",
        "Statistika",
        "Ilmu Sosial",
      ];
      return jurusanList[Math.floor(Math.random() * jurusanList.length)];
    };

    const getRandomBidangPeminatan = () => {
      const bidangPeminatanList = [
        "Moneter",
        "Makroprudensial",
        "Sistem Pembayaran",
        "Pengelolaan Uang Rupiah",
        "Humas",
        "Internal",
      ];
      return bidangPeminatanList[
        Math.floor(Math.random() * bidangPeminatanList.length)
      ];
    };

    const data = [
      // bulan 6`
      {
        id: uuidv4(),
        full_name: "Muhammad Rafi",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Indonesia",
        intern_category: getRandomTipeMagang(),
        semester: "6",
        IPK: "3.90",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-06-01",
        end_month: "2025-08-30",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Siti Aisyah",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Institut Teknologi Bandung",
        intern_category: getRandomTipeMagang(),
        semester: "4",
        IPK: "3.75",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-06-10",
        end_month: "2025-08-31",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Ahmad Fauzan",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Gadjah Mada",
        intern_category: getRandomTipeMagang(),
        semester: "5",
        IPK: "3.85",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-06-15",
        end_month: "2025-09-01",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Nadia Putri",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Airlangga",
        intern_category: getRandomTipeMagang(),
        semester: "3",
        IPK: "3.60",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-06-20",
        end_month: "2025-09-15",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Rizky Maulana",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Brawijaya",
        intern_category: getRandomTipeMagang(),
        semester: "7",
        IPK: "3.92",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-06-25",
        end_month: "2025-09-30",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },

      // bulan 7
      {
        id: uuidv4(),
        full_name: "Abdurrahman Argobie",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Dian Nuswantoro",
        intern_category: getRandomTipeMagang(),
        semester: "5",
        IPK: "3.78",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-07-01",
        end_month: "2025-09-30",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Nasyawa Arofati Hakim",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Diponegoro",
        intern_category: getRandomTipeMagang(),
        semester: "3",
        IPK: "3.58",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-07-05",
        end_month: "2025-09-30",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Yusuf Hidayat",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Hasanuddin",
        intern_category: getRandomTipeMagang(),
        semester: "6",
        IPK: "3.88",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-07-10",
        end_month: "2025-09-30",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      // bulan 8
      {
        id: uuidv4(),
        full_name: "Resti Arrahmi",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Diponegoro",
        intern_category: getRandomTipeMagang(),
        semester: "3",
        IPK: "3.58",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Dimas Pratama",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Gadjah Mada",
        intern_category: getRandomTipeMagang(),
        semester: "5",
        IPK: "3.72",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example2.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Sarah Mahardika",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Institut Teknologi Bandung",
        intern_category: getRandomTipeMagang(),
        semester: "4",
        IPK: "3.65",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example3.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Rizky Aditya",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Indonesia",
        intern_category: getRandomTipeMagang(),
        semester: "6",
        IPK: "3.80",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example4.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Aulia Kartika",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Airlangga",
        intern_category: getRandomTipeMagang(),
        semester: "7",
        IPK: "3.67",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example5.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Fajar Setiawan",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Padjadjaran",
        intern_category: getRandomTipeMagang(),
        semester: "5",
        IPK: "3.74",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example6.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Siti Nurhaliza",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Brawijaya",
        intern_category: getRandomTipeMagang(),
        semester: "6",
        IPK: "3.61",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example7.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Hendri Saputra",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Sebelas Maret",
        intern_category: getRandomTipeMagang(),
        semester: "4",
        IPK: "3.69",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example8.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Nadya Ayu",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Negeri Yogyakarta",
        intern_category: getRandomTipeMagang(),
        semester: "5",
        IPK: "3.62",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example9.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        id: uuidv4(),
        full_name: "Andi Setyawan",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Universitas Hasanuddin",
        intern_category: getRandomTipeMagang(),
        semester: "6",
        IPK: "3.70",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-08-01",
        end_month: "2025-10-30",
        google_drive_link: "https://www.example10.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },

      // 🔹 bulan 9
      {
        id: uuidv4(),
        full_name: "Lailatul Badriyah",
        email: generateUniqueEmail(),
        phone: generateUniquePhone(),
        university: "Institut Teknologi Sepuluh Nopember",
        intern_category: getRandomTipeMagang(),
        semester: "7",
        IPK: "3.70",
        KRS_remaining: 5,
        college_major: getRandomJurusan(),
        division_request: getRandomBidangPeminatan(),
        start_month: "2025-09-01",
        end_month: "2025-11-30",
        google_drive_link: "https://www.example.com",
        CV_score: 80,
        motivation_letter_score: 89,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    ];

    await queryInterface.bulkInsert("applications", data, {});
  },

  down: async (queryInterface, Sequelize) => {
    await queryInterface.bulkDelete("applications", null, {});
  },
};
